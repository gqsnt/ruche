
# Technical Highlights

## Full-Stack Rust, No Reverse Proxy

- **Single binary** with **rustls** TLS, **HTTP/2** default, **HTTP/3 (QUIC)** in production.
- No nginx or Docker required; layers are optional rather than mandatory.

## Compute & Runtime Model

- **Tokio** async runtime; background work via `tokio::spawn`.
- **Task Director** with priorities schedules:
    - match updates & timeline maintenance
    - pro player sync
    - live cache refresh
    - SSE cleanup
    - sitemap generation
    - DB maintenance

## Data & Serialization

- **Server functions** return **bitcode** payloads compressed with **zstd**.
- In this project, these payloads were observed around a small fraction of equivalent JSON sizes (workload-dependent).

## Frontend Architecture

- **Leptos** SSR → CSR hydration.
- **Nested routing** under a summoner container route.
- **Per-route WASM splitting** via `Lazy`; each tab loads on demand.
- Global meta via `MetaStore` and `<MetaTags/>`.

## Real-Time Delivery

- **SSE endpoint**: `/sse/match_updated/{platform}/{summoner_id}`
    - `1:{n}` → `SummonerMatches(n)` (clients refresh)
    - `0:{v}` → `LiveGame(Some(v))`
    - `0:`     → `LiveGame(None)`
- Debounce ≈ 500 ms; periodic pruning of inactive subscribers.

## Storage & Queries

- **SQLx** + PostgreSQL with indexes on hot paths.
- **UNNEST**-based bulk operations; compile-time `DB_CHUNK_SIZE` for batching.

## Assets & Transfer

- **AVIF** conversion and **CSS sprites** generated by a dedicated CLI.
- Memory-served static files post-generation.
- **No double-compression** for SSE/JS/WASM/CSS.

## Security & Transport

- **rustls** TLS; H2/H3 via ALPN and `Alt-Svc`.
- HTTP→HTTPS redirection.